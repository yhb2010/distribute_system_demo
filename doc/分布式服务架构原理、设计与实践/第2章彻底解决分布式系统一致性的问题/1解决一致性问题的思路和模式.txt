酸碱平衡理论
1、ACID

2、CAP
	1、C一致性：在分布式系统中所有数据备份，在同一时刻具有同样的值，所有节点在同一时刻读取的数据都是最新副本
	2、A可用性：好的响应性能，完全的可用性指的是在任何故障模型下，服务都会在有限的时间内处理完成并进行响应
	3、P分区容错性：尽管网络上有部分消息丢失，但系统仍然可继续工作
	由于关系型数据库是单节点无复制的，因此不具有分区容错性，但是具有一致性和可用性，而分布式服务化系统都需要满足分区容错性，那么我们必须在一致性和
	可用性上进行权衡，如果在网络上有消息丢失，也就是出现了网络分区，则复制操作可能会被延后，如果这时我们的使用方等待复制完后才能再返回，则可能导致
	在有限时间内无法返回，就失去了可用性；如果不等待复制完成，而在主分片写完后直接返回，则具有了可用性，但是失去了一致性。

3、BASE

分布式一致性协议：
1、两阶段提交
	准备阶段：协调者向参与者发起指令，参与者评估自己的状态，如果参与者评估可以完成，则会写redo和undo日志，然后锁定资源，执行操作，但是并不提交
	提交阶段：如果每个参与者明确返回准备成功，也就是预留资源和执行操作成功，则协调者向参与者发起提交指令，参与者提交资源变更的事务，释放锁定的资源；
	如果任何一个参与者明确返回准备失败，也就是预留资源或者执行操作失败，则协调者向参与者发起终止指令，参与者取消已经变更的事务，执行undo日志，释放
	锁定的资源

	这种方式的问题：
	1、阻塞：对于任何一次指令都必须受到明确的响应，才会继续执行，否则处于阻塞状态 ，占用的资源被一直锁定，不会释放
	2、单点故障：如果协调者宕机，参与者没有协调者指挥，则会一直阻塞，尽管可以通过选举新的协调者，但是如果协调者在发送一个提交指令后宕机，而提交指令
	仅仅被一个参与者接收，并且参与者接收后也宕机，则新上任的协调者无法处理这种情况
	3、脑裂：协调者发送提交指令，有的参与者接收到并执行了任务，有的参与者没有接收到，多个参与者之间是不一致的

2、三阶段提交：
	二阶段提交的改进版，通过超时机制解决阻塞问题。
	1、询问阶段：协调者询问参与者是否可以完成指令，参与者只需要回答是或不是，而不需要执行操作，这个阶段超时会导致终止
	2、准备阶段：如果询问阶段所有参与者都返回可以执行操作，则协调者向参与者发送预执行请求，然后参与者写redo和undo日志，执行操作但是不提交；如果在
	询问阶段任意参与者返回不能执行操作的结果，则协调者向参与者发送终止请求，这里和二阶段的准备逻辑相似
	3、提交阶段：如果每个参与者在准备阶段都返回成功，也就是预留资源和执行操作成功，则协调者向参与者发起提交指令，参与者提交资源变更的事务，释放锁定
	的资源；如果任何一个参与者明确返回准备失败，也就是预留资源或者执行操作失败，则协调者向参与者发起终止指令，参与者取消已经变更的事务，执行undo日
	志，释放锁定的资源，这里和二阶段的提交逻辑相似
	和二阶段的不同：
	1、增加了询问阶段。
	2、在准备阶段以后，协调者和参与者执行的任务中都增加了超时，一旦超时，则协调者和参与者都会继续提交事务，默认为成功，这也是根据概率统计超时后默认为
	成功的正确性最大。

3、TCC
	协议将一个任务拆分成Try、Confirm、Cancel三个步骤，正常的流程会先执行Try，如果执行成功，则再执行Confirm，如果执行过程中出现了问题，则执行操作
	的逆操作Cancel。